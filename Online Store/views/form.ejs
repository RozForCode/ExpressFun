<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Store</title>
    <link rel="stylesheet" href="./public/styles.css">
</head>

<body>
    <div class="container">
        <h1>Online Store</h1>

        <% if (errors && errors.length> 0) { %>
            <div class="errors">
                <ul>
                    <% errors.forEach(function(error) { %>
                        <li>
                            <%= error %>
                        </li>
                        <% }); %>
                </ul>
            </div>
            <% } %>

                <% if (receipt) { %>
                    <div class="receipt">
                        <h2>Receipt</h2>
                        <p>Name: <%= receipt.name %>
                        </p>
                        <p>Address: <%= receipt.address %>
                        </p>
                        <p>City: <%= receipt.city %>
                        </p>
                        <p>Province: <%= receipt.province %>
                        </p>
                        <p>Phone: <%= receipt.phone %>
                        </p>
                        <p>Email: <%= receipt.email %>
                        </p>
                        <p>Products:</p>
                        <ul>
                            <% receipt.products.forEach(function(product) { %>
                                <li>
                                    <%= product.name %>: <%= product.quantity %> x $<%= product.price %>
                                </li>
                                <% }); %>
                        </ul>
                        <p>Total: $<%= receipt.total %>
                        </p>
                        <p>Tax: $<%= receipt.tax %>
                        </p>
                        <p>Grand Total: $<%= receipt.grandTotal %>
                        </p>
                    </div>
                    <% } else { %>
                        <form id="purchase-form" action="/submit" method="POST">
                            <div class="form-group">
                                <label for="name">Name:</label>
                                <input type="text" id="name" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="address">Address:</label>
                                <input type="text" id="address" name="address" required>
                            </div>
                            <div class="form-group">
                                <label for="city">City:</label>
                                <input type="text" id="city" name="city" required>
                            </div>
                            <div class="form-group">
                                <label for="province">Province:</label>
                                <input type="text" id="province" name="province" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number:</label>
                                <input type="text" id="phone" name="phone" required pattern="[0-9]{10}">
                            </div>
                            <div class="form-group">
                                <label for="email">Email:</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="product1">Product 1:</label>
                                <input type="number" id="product1" name="product1" value="0" min="0">
                            </div>
                            <div class="form-group">
                                <label for="product2">Product 2:</label>
                                <input type="number" id="product2" name="product2" value="0" min="0">
                            </div>
                            <div class="form-group">
                                <label for="product3">Product 3:</label>
                                <input type="number" id="product3" name="product3" value="0" min="0">
                            </div>
                            <button type="submit">Submit</button>
                        </form>
                        <% } %>
    </div>
</body>

</html>